---
layout:     post
title:      "Raid级别"
subtitle:   "Raid级别结构"
date:       2017-12-03
author:     "Bug1024"
header-img: "img/sun.jpg"
tags:
    - Linux
---

> RAID(Redundent Array of Inexpensive Disks)，廉价冗余磁盘阵列，后来RAID中的I被改作了Independent，就成了“独立冗余磁盘阵列”，但这只是名称的变化，实质性的内容并没有改变。可以把RAID理解成一种使用磁盘驱动器的方法，它将一组磁盘驱动器用某种逻辑方式联系起来，作为逻辑上的一个磁盘驱动器来使用。

## RAID0
`无冗余无校验的磁盘阵列`。数据同时分布在各个磁盘上，没有容错能力，读写速度在RAID中最快，但因为任何一个磁盘损坏都会使整个RAID系统失效，所以安全系数反倒比单个的磁盘还要低。一般用在对数据安全要求不高，但对速度要求很高的场合，如：大型游戏、图形图像编辑等。此种RAID模式至少需要2个磁盘，而更多的磁盘则能提供更高效的数据传输。

## RAID1
`镜象磁盘阵列`。每一个磁盘都有一个镜像磁盘，镜像磁盘随时保持与原磁盘的内容一致。RAID1具有最高的安全性，但只有一半的磁盘空间被用来存储数据。主要用在对数据安全性要求很高，而且要求能够快速恢复被损坏的数据的场合。此种RAID模式每组仅需要2个磁盘。

## RAID5
`无独立校验盘的奇偶校验磁盘阵列`。同样采用奇偶校验来检查错误，但没有独立的校验盘，而是使用了一种特殊的算法，可以计算出任何一个带区校验块的存放位置。这样就可以确保任何对校验块进行的读写操作都会在所有的RAID磁盘中进行均衡，既提高了系统可靠性也消除了产生瓶颈的可能，对大小数据量的读写都有很好的性能。为了能跨越数组里的所有磁盘来写入数据及校验码信息，RAID 5设定最少需要三个磁盘，因此在这种情况下，会有1/3的磁盘容量会被备份校验码占用而无法使用，当有四个磁盘时，则需要1/4的容量作为备份，才能让最坏情况的发生率
降到最低。当磁盘的数目增多时，每个磁盘上被备份校验码占用的磁盘容量就会降低，但是磁盘故障的风险率也同时增加了，一但同时有两个磁盘故障，则无法进行数据恢复。

## RAID6
RAID 6和RAID 5相似但它有两个分布式奇偶校验。大多用在大数量的阵列中。我们最少需要4个驱动器，即使有2个驱动器发生故障，我们依然可以更换新的驱动器后重建数据。
它比RAID 5慢，因为它将数据同时写到4个驱动器上。当我们使用硬件 RAID 控制器时速度就处于平均水准。如果我们有6个的1TB驱动器，4个驱动器将用于数据保存，2个驱动器将用于校验。

## RAID10
RAID 10可以被称为1 + 0或0 +1。它将做镜像+条带两个工作。在 RAID 10中首先做镜像然后做条带。在 RAID 01上首先做条带，然后做镜像。RAID 10比RAID 01好。

## 比较

|级别|RAID0|RAID1|RAID5|RAID6|RAID10|
|----|---|----|----|---|---|----|---|
|别名|条带|镜像|单磁盘分布奇偶位条带|双磁盘分布奇偶位条带|镜像阵列条带|
|容错性|无|有|有|有|有|
|冗余类型|无|镜像|奇偶校验|双奇偶校验|镜像|
|备份盘|无|有|有|有|有|
|读性能|高|低|高|高|中等|
|随机写性能|高|低|低|低|中等|
|连续写性能|高|低|低|低|中等|
|需要磁盘数|2+|2N|3+|4+|4N|
|可用容量|100%|50%|(N-1)/N|(N-2)/N|50%|
|典型应用|无故障迅速读写，安全性要求不高|随机数据读写，安全性较高，例如数据库|随机数据传输，安全性高，例如金融|对读取性能要求高，安全性极高|数据量大，安全性高|

## 参考
[Raid级别结构知识浅析](http://openskill.cn/article/198)
