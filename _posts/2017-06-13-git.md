---
layout:     post
title:      "Git入门"
subtitle:   "Git实践"
date:       2017-06-14
author:     "Bug1024"
header-img: "img/post-bg-unix-linux.jpg"
tags:
    - Git
---

## 开发流程
* 克隆仓库
    * 默认克隆maser分支 `git clone git@github.com:bug1024/jeet-vim.git`
    * 克隆指定的分支 `git clone -b bug_fix git@github.com:bug1024/jeet-vim.git`
* 检出分支
    * 基于当前本地分支检出名为develop的新分支 `git checkout -b develop`
    * 基于远程分支检出名为develop的新分支 `git checkout -b develop origin/develop`
* 修改代码
* 查看文件状态
    * `git status`
* 查看具体的改动
    * `git diff`
* 将改动的文件添加到暂存区
    * 添加指定的文件 `git add 文件1 文件2`
    * 添加所有改动文件 `git add .``
* 将暂存区的文件纳入版本库
    * 一次commit就是一个版本 `git commit`
* 将当前分支同步到远程仓库
    * `git push`
* push失败
    * 通常是由于远程分支有了新的版本提交
    * 直接拉取，会产生额外的merge  `git pull`
    * 拉取远程分支，以此为基础，不会产生额外的merge（推荐）`git pull --rebase`
    * 使用`git push -f` 可强制推送（慎用）
* 解决冲突
    * 查看冲突文件 `git status`
    * 解决冲突，保存文件
    * git add & git commit & git push

### origin的概念
* git为你默认创建的指向这个远程仓库的标签
* 可使用 `git remote -v` 查看origin具体指向的远程仓库

## 工作区&暂存区&版本库
![关系图](http://bug1024.com/img/git-working-stage-repo.jpg)

* 工作区
    * 用户本地coding的目录
* 暂存区
    * 英文叫stage, 或index
    * 一般存放在 ".git目录下" 下的index文件（.git/index）中
* 版本库
    * 工作区有一个隐藏目录.git，这就是Git的版本库

## 代码回滚
* 清理工作区中没有被track的文件 `git clean -f`
* 撤销改动过但未add的文件 `git checkout -- 文件1`
* 撤销add过但未commit的文件 `git reset 文件1`
* 回滚某个文件到指定版本 `git reset 版本号 文件1`
* 回滚版本库到指定版本 `git reset --hard 版本号`

## 参考
* [廖雪峰的Git教程](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)
* [git推荐配置](http://bug1024.com/img/gitconfig)

